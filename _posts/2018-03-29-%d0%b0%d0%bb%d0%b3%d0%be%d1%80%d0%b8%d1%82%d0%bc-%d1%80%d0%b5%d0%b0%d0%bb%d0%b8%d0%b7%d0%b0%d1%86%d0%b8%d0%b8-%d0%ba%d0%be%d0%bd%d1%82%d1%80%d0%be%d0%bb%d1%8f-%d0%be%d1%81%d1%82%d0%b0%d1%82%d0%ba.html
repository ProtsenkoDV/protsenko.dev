---
layout: post
status: publish
published: true
title: Алгоритм реализации контроля остатков в нетиповой самописной конфигурации в
  1С Предприятие 8.3
author:
  display_name: Dima Protsenko
  login: Dima Protsenko
  email: ''
  url: ''
author_login: Dima Protsenko
wordpress_id: 13
date: '2018-03-29 12:59:00 +0500'
date_gmt: '2018-03-29 09:59:00 +0500'
---
<div dir="ltr" style="text-align: left;">
<div>Во множестве различных уроках по 1С Программированию для начинающих рассказывается о том как делать приходныерасходные накладные, но не описывается контроль остатков, а зря, ведь расходными накладными можно уйти в далекие минуса.</p>
<p>1. При проведении расходной накладной необходимо чтобы движения документа автоматически удалялось.
<div style="clear: both; text-align: center;"></div>
<p>
<div style="clear: both; text-align: center;"><a href="https://protsenko.dev/wp-content/uploads/2018/03/Screenshot_5.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="163" data-original-width="502" height="204" src="https://protsenko.dev/wp-content/uploads/2018/03/Screenshot_5-300x97.png" width="640" /></a></div>
<p><a name='more'></a>2. В модуле объекта опишем функцию для получения остатка, она состоит из:
<ul style="text-align: left;">
<li>Аргументом функции выступает номенклатура, и дата остатка</li>
<li>Запрос к регистру накопления (остатки), где в качестве параметров выступает дата и номенклатура</li>
<li>Оператор возврата с полученным значением из запроса</li>
</ul>
<p>3. У расходной накладной есть в модуле объекта процедура ОбработкаПроведения, в нем и опишем контроль, алгоритм такой:</p></div>
<ul style="text-align: left;">
<li>Получаем остаток по номенклатуре</li>
<li>Остаток - Количество для списания, если меньше нуля, тогда переменной Отказ присваиваем значения Истина</li>
</ul>
<p>&nbsp;4. На этом все, код можно стырить <a href="https://github.com/ProtsenkoDV/thesilverwolf/blob/master/1C/primitive%20control.txt" rel="nofollow noopener noreferrer" target="_blank">тут</a> </div>
